import React, { useState } from 'react';
import styles from './DoToday.styles';
import Text from '../../atoms/Text';
import { View } from 'react-native';
import SectionCard from '../../molecules/SectionCard';
import { fieryRed, goldenYellow, skyBlue, softLavender } from '../../../theme';
import useNavigation from '../../../hooks/useNavigation';
import Icon from '../../atoms/Icon';
import { useUserStore } from '../../../store';

interface ItemInfo {
  title: string;
  icon: React.ReactNode;
  screen: any;
  color: string;
}

const DoToday = () => {
  const [doTodayList] = useState<ItemInfo[]>([
    {
      title: 'Recordatorios',
      icon: (
        <Icon
          scale="38"
          viewBox="0 0 38 38"
          d="M19.0117 31.5268C19.7221 31.5268 20.326 31.2756 20.8233 30.7731C21.3205 30.2705 21.5884 29.6615 21.6269 28.9461H16.3423C16.3807 29.6615 16.6577 30.2705 17.1731 30.7731C17.6884 31.2756 18.3013 31.5268 19.0117 31.5268ZM9.9923 25.6768H27.9768V23.1769H25.9768V17.4653C25.9768 15.6192 25.4903 13.9282 24.5172 12.3923C23.5441 10.8564 22.1845 9.91798 20.4384 9.57695V7.9039C20.4384 7.48703 20.3028 7.13667 20.0316 6.8528C19.7604 6.5689 19.4168 6.42695 19.0009 6.42695C18.5849 6.42695 18.2359 6.5689 17.9538 6.8528C17.6718 7.13667 17.5308 7.48703 17.5308 7.9039V9.57695C15.7846 9.91798 14.425 10.8212 13.4519 12.2865C12.4788 13.7519 11.9923 15.391 11.9923 17.2038V23.1769H9.9923V25.6768ZM14.4923 23.1769V16.7692C14.4923 15.4858 14.9262 14.39 15.7942 13.4817C16.6621 12.5734 17.7224 12.1192 18.975 12.1192C20.2403 12.1192 21.307 12.5734 22.175 13.4817C23.0429 14.39 23.4769 15.4858 23.4769 16.7692V23.1769H14.4923ZM19.0166 38C16.3848 38 13.9198 37.5013 11.6218 36.5039C9.32368 35.5066 7.3111 34.1448 5.584 32.4184C3.85687 30.6921 2.49442 28.6791 1.49665 26.3796C0.498884 24.0801 0 21.613 0 18.9783C0 16.3565 0.498667 13.8921 1.496 11.5851C2.49333 9.27818 3.85517 7.26948 5.5815 5.55905C7.30787 3.84858 9.32082 2.49446 11.6203 1.4967C13.9199 0.498931 16.387 4.57764e-05 19.0216 4.57764e-05C21.6434 4.57764e-05 24.1078 0.498715 26.4148 1.49605C28.7218 2.49338 30.7305 3.84688 32.4409 5.55655C34.1514 7.26625 35.5055 9.27673 36.5033 11.588C37.501 13.8992 37.9999 16.3643 37.9999 18.9833C37.9999 21.6152 37.5012 24.0801 36.5039 26.3782C35.5066 28.6763 34.1531 30.6858 32.4434 32.4067C30.7337 34.1277 28.7232 35.4902 26.412 36.494C24.1007 37.498 21.6356 38 19.0166 38ZM19.025 35.7308C23.6647 35.7308 27.6089 34.1013 30.8577 30.8423C34.1064 27.5833 35.7307 23.6276 35.7307 18.975C35.7307 14.3353 34.1095 10.391 30.867 7.1423C27.6245 3.8936 23.6688 2.26925 19 2.26925C14.364 2.26925 10.4166 3.89048 7.15765 7.13295C3.89868 10.3754 2.2692 14.3311 2.2692 19C2.2692 23.6359 3.89868 27.5833 7.15765 30.8423C10.4166 34.1013 14.3724 35.7308 19.025 35.7308Z"
        />
      ),
      screen: 'Reminders',
      color: goldenYellow,
    },
    {
      title: 'Servicios',
      icon: (
        <Icon
          width="41"
          height="36"
          viewBox="0 0 41 36"
          d="M38 15.9153V32.6153C38 33.4025 37.716 34.0801 37.1481 34.648C36.5801 35.216 35.9025 35.5 35.1154 35.5H5.83468C5.04751 35.5 4.36995 35.216 3.80198 34.648C3.23405 34.0801 2.95008 33.4025 2.95008 32.6153V15.8769C2.02955 15.141 1.41288 14.2218 1.10008 13.1192C0.787245 12.0167 0.807745 10.9013 1.16158 9.7731L3.21543 3.1962C3.4821 2.32183 3.92953 1.65388 4.55773 1.19235C5.18593 0.730813 5.92696 0.500046 6.78083 0.500046H33.9885C34.8833 0.500046 35.6615 0.732729 36.3231 1.1981C36.9846 1.6635 37.4423 2.3167 37.6961 3.1577L39.8385 9.7731C40.1923 10.9013 40.2045 12.0231 39.875 13.1384C39.5455 14.2538 38.9205 15.1795 38 15.9153ZM24.9616 14.8654C26.1077 14.8654 27.027 14.5231 27.7193 13.8385C28.4116 13.1539 28.6975 12.3808 28.577 11.5192L27.25 2.7692H21.6346V11.2884C21.6346 12.2449 21.9532 13.0801 22.5904 13.7942C23.2276 14.5083 24.018 14.8654 24.9616 14.8654ZM15.7077 14.8654C16.7436 14.8654 17.6122 14.5167 18.3135 13.8192C19.0148 13.1218 19.3654 12.2782 19.3654 11.2884V2.7692H13.7308L12.4038 11.5962C12.2962 12.3603 12.5616 13.0961 13.2 13.8038C13.8385 14.5115 14.6744 14.8654 15.7077 14.8654ZM6.66543 14.8654C7.54236 14.8654 8.30134 14.5648 8.94238 13.9635C9.58341 13.3622 9.96033 12.6231 10.0731 11.7461L11.3924 2.7692H6.35393C6.13596 2.7692 5.95966 2.81728 5.82503 2.91345C5.69039 3.00961 5.59743 3.15386 5.54613 3.3462L3.40003 10.3C3.04103 11.4103 3.18398 12.4487 3.82888 13.4154C4.47374 14.3821 5.41926 14.8654 6.66543 14.8654ZM34.2846 14.8654C35.4411 14.8654 36.3725 14.4032 37.0789 13.4788C37.7853 12.5545 37.9526 11.4949 37.5808 10.3L35.4154 3.3077C35.3642 3.1154 35.2712 2.97756 35.1366 2.8942C35.0019 2.81086 34.8256 2.7692 34.6077 2.7692H29.5885L30.9077 11.7461C31.0333 12.6231 31.4134 13.3622 32.0481 13.9635C32.6827 14.5648 33.4282 14.8654 34.2846 14.8654ZM5.83468 33.2308H35.1154C35.282 33.2308 35.4263 33.1731 35.5481 33.0577C35.6699 32.9423 35.7308 32.7948 35.7308 32.6153V16.9884C35.6488 17.0474 35.4635 17.0865 35.175 17.1057C34.8866 17.125 34.5898 17.1346 34.2846 17.1346C33.4385 17.1346 32.65 16.9532 31.9192 16.5903C31.1885 16.2275 30.4756 15.6602 29.7808 14.8884C29.2603 15.5679 28.6064 16.1121 27.8193 16.5211C27.0321 16.9301 26.1103 17.1346 25.0539 17.1346C24.1308 17.1346 23.3173 16.9737 22.6135 16.6519C21.9096 16.3301 21.2052 15.8166 20.5 15.1115C19.9231 15.7756 19.2385 16.2788 18.4462 16.6211C17.6539 16.9634 16.8193 17.1346 15.9423 17.1346C14.9859 17.1346 14.1077 16.9609 13.3077 16.6134C12.5077 16.266 11.8244 15.691 11.2577 14.8884C10.3423 15.7295 9.4981 16.3141 8.72503 16.6423C7.95193 16.9705 7.26539 17.1346 6.66543 17.1346C6.3808 17.1346 6.10771 17.125 5.84618 17.1057C5.58465 17.0865 5.37566 17.0474 5.21923 16.9884V32.6153C5.21923 32.7948 5.28013 32.9423 5.40193 33.0577C5.52376 33.1731 5.66801 33.2308 5.83468 33.2308Z"
        />
      ),
      screen: 'Services',
      color: skyBlue,
    },
    {
      title: 'Comunidad',
      icon: (
        <Icon
          width="34"
          height="42"
          viewBox="0 0 34 42"
          d="M17 41.2499C14.541 39.1679 11.8596 37.5519 8.95575 36.4019C6.05192 35.2519 3.06667 34.6256 0 34.523V14.5731C3.0436 14.6629 6.02052 15.4116 8.93075 16.8193C11.841 18.227 14.5308 20.0795 17 22.3769C19.4692 20.0795 22.1589 18.227 25.0692 16.8193C27.9794 15.4116 30.9563 14.6629 33.9999 14.5731V34.523C30.9332 34.6256 27.948 35.2519 25.0442 36.4019C22.1403 37.5519 19.4589 39.1679 17 41.2499ZM17 38.3807C19.2897 36.732 21.6705 35.4094 24.1423 34.4129C26.6141 33.4163 29.1435 32.7774 31.7307 32.4961V17.0538C29.3358 17.4462 26.8961 18.3321 24.4115 19.7115C21.9269 21.091 19.4564 22.9615 17 25.323C14.3743 22.8666 11.8615 20.9641 9.4615 19.6154C7.0615 18.2667 4.66407 17.4128 2.2692 17.0538V32.4961C4.85637 32.7774 7.38585 33.4163 9.85765 34.4129C12.3295 35.4094 14.7102 36.732 17 38.3807ZM17.1115 14.7654C15.1564 14.7654 13.4997 14.0894 12.1414 12.7375C10.783 11.3856 10.1039 9.72886 10.1039 7.76732C10.1039 5.80582 10.783 4.14591 12.1414 2.78758C13.4997 1.42924 15.1564 0.750076 17.1115 0.750076C19.0666 0.750076 20.7233 1.42924 22.0816 2.78758C23.44 4.14591 24.1192 5.80582 24.1192 7.76732C24.1192 9.72886 23.44 11.3856 22.0816 12.7375C20.7233 14.0894 19.0666 14.7654 17.1115 14.7654ZM17.1219 12.4962C18.4278 12.4962 19.5423 12.0312 20.4654 11.1012C21.3884 10.1713 21.85 9.05331 21.85 7.74738C21.85 6.44148 21.385 5.32698 20.455 4.40388C19.525 3.48081 18.4071 3.01927 17.1012 3.01927C15.7952 3.01927 14.6807 3.48426 13.7577 4.41422C12.8345 5.34419 12.373 6.46214 12.373 7.76808C12.373 9.07401 12.838 10.1885 13.768 11.1116C14.698 12.0346 15.8159 12.4962 17.1219 12.4962Z"
        />
      ),
      screen: 'Community',
      color: softLavender,
    },
    {
      title: 'Mi salud',
      icon: (
        <Icon
          width="39"
          height="36"
          viewBox="0 0 39 36"
          d="M19.5 35.0191C19.041 35.0191 18.5942 34.9332 18.1596 34.7614C17.725 34.5897 17.3423 34.332 17.0116 33.9884L3.9962 20.923C2.82953 19.7564 1.95517 18.4327 1.3731 16.9519C0.791033 15.4711 0.5 13.9397 0.5 12.3577C0.5 9.20643 1.5077 6.51285 3.5231 4.27695C5.53847 2.04108 8.03332 0.923149 11.0077 0.923149C12.4923 0.923149 13.9044 1.22378 15.2442 1.82505C16.5839 2.42635 17.7781 3.26801 18.8268 4.35005L19.5 5.06165L20.1346 4.3885C21.1756 3.28083 22.3692 2.42635 23.7154 1.82505C25.0615 1.22378 26.4705 0.923149 27.9423 0.923149C30.9166 0.923149 33.4198 2.04108 35.4518 4.27695C37.4839 6.51285 38.4999 9.18976 38.4999 12.3077C38.4999 13.9026 38.2037 15.4404 37.6114 16.9211C37.0191 18.4019 36.1499 19.7256 35.0037 20.8923L21.9384 33.9884C21.5948 34.332 21.2172 34.5897 20.8057 34.7614C20.3942 34.9332 19.9589 35.0191 19.5 35.0191ZM21.5146 10.8654C21.7074 10.8654 21.8814 10.9128 22.0365 11.0077C22.1916 11.1026 22.3333 11.2308 22.4615 11.3923L26.1077 16.8654H35.1297C35.4967 16.128 35.7719 15.3779 35.9555 14.6151C36.139 13.8523 36.2307 13.0831 36.2307 12.3077C36.2179 9.80513 35.4207 7.65705 33.8392 5.86345C32.2577 4.06988 30.2952 3.1731 27.9518 3.1731C26.7788 3.1731 25.6538 3.41476 24.5769 3.8981C23.5 4.38143 22.5615 5.06283 21.7615 5.9423L20.1807 7.64235C20.0679 7.74235 19.9615 7.82246 19.8615 7.8827C19.7615 7.94296 19.641 7.9731 19.5 7.9731C19.3461 7.9731 19.2086 7.9449 19.0874 7.8885C18.9662 7.8321 18.8665 7.75005 18.7884 7.64235L17.2077 5.9423C16.3857 5.06893 15.4354 4.39226 14.3566 3.9123C13.2778 3.4323 12.1615 3.1923 11.0077 3.1923C8.67578 3.1923 6.71973 4.08811 5.1395 5.87975C3.5593 7.67138 2.7692 9.81403 2.7692 12.3077C2.7692 13.1008 2.86152 13.878 3.04615 14.6391C3.23075 15.4002 3.50183 16.1423 3.8594 16.8654H13.5C13.6884 16.8654 13.8674 16.9096 14.037 16.9979C14.2065 17.0862 14.3416 17.201 14.4423 17.3423L17.1654 21.477L20.4154 11.6654C20.4925 11.4295 20.6307 11.2372 20.83 11.0885C21.0293 10.9398 21.2575 10.8654 21.5146 10.8654ZM21.8346 14.523L18.5538 24.3346C18.4803 24.5705 18.3392 24.7628 18.1307 24.9115C17.9222 25.0602 17.6953 25.1346 17.45 25.1346C17.2474 25.1346 17.075 25.0872 16.9327 24.9923C16.7904 24.8974 16.6654 24.7692 16.5577 24.6077L12.8923 19.1346H5.4384L18.6423 32.3577C18.7705 32.4987 18.9018 32.5961 19.0361 32.65C19.1705 32.7038 19.3251 32.7307 19.5 32.7307C19.6748 32.7307 19.8294 32.7038 19.9638 32.65C20.0981 32.5961 20.2294 32.4987 20.3577 32.3577L33.5307 19.1346H25.5C25.2974 19.1346 25.1218 19.0839 24.9731 18.9826C24.8243 18.8814 24.6859 18.75 24.5577 18.5884L21.8346 14.523Z"
        />
      ),
      screen: 'MyHealth',
      color: fieryRed,
    },
  ]);

  const navigation = useNavigation();
  const { isAdvertiser } = useUserStore();

  const doTodayListFilter = isAdvertiser
    ? doTodayList.filter(item => item.screen === 'Services')
    : doTodayList;

  return (
    <View style={styles.container}>
      {!isAdvertiser && <Text style={styles.txt}>¿Qué deseas hacer hoy?</Text>}

      <View style={styles.sectionsContainer}>
        {doTodayListFilter.map(item => {
          const { title, icon, screen, color } = item;

          return (
            <SectionCard
              key={title}
              onPress={() => navigation.navigate(screen)}
              title={title}
              icon={icon}
              backgroundColor={color}
              isUnique={doTodayListFilter.length === 1}
            />
          );
        })}
      </View>
    </View>
  );
};

export default DoToday;
